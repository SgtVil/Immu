<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Title Screen a model on all your variables. — screen_models • ImmuMicrobiome</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Title Screen a model on all your variables. — screen_models"><meta property="og:description" content="A function to test machine learning on your different variables of the metadata.
This function supports phyloseq object as input or a list containing a values matrix and a variable dataframe.
This function is based on caret."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ImmuMicrobiome</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/ImmuMicrobiome_vignette.html">ImmuMicrobiome_vignette</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Title Screen a model on all your variables.</h1>
    
    <div class="hidden name"><code>screen_models.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function to test machine learning on your different variables of the metadata.
This function supports phyloseq object as input or a list containing a values matrix and a variable dataframe.
This function is based on caret.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">screen_models</span><span class="op">(</span></span>
<span>  <span class="va">obj</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"plsda"</span>,</span>
<span>  cores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ncomp <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  number <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  repeats <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  prop <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  train <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>obj</dt>
<dd><p>An object of class phyloseq or a list of two levels containing a matrix of values and a dataframe of variables.</p></dd>


<dt>model</dt>
<dd><p>The model tested, for now this function supports <code>randomForest::randomForest()</code>, <code><a href="https://glmnet.stanford.edu/reference/glmnet.html" class="external-link">glmnet::glmnet()</a></code> and <code><a href="https://rdrr.io/pkg/caret/man/plsda.html" class="external-link">caret::plsda()</a></code>.</p></dd>


<dt>cores</dt>
<dd><p>The number of cores you want to use.</p></dd>


<dt>ncomp</dt>
<dd><p>Number of component you want to keep for <code><a href="https://rdrr.io/pkg/caret/man/plsda.html" class="external-link">caret::plsda()</a></code>. Default =10.</p></dd>


<dt>number</dt>
<dd><p>Either the number of folds or number of resampling iterations</p></dd>


<dt>repeats</dt>
<dd><p>For repeated k-fold cross-validation only: the number of complete sets of folds to compute. Default = 3</p></dd>


<dt>prop</dt>
<dd><p>The proportion of the variables to use in the training model. Default = 0.5.</p></dd>


<dt>train</dt>
<dd><p>Wheter or not you want to train the models in order to predict.
If you select FALSE the function will use all the data to perform classification or find
the best features that explain your data according to the variables. Default=T.</p></dd>


<dt>...</dt>
<dd><p>Argument passed to <code><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">caret::train()</a></code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list containing</p>
<dl><dt>model</dt>
<dd><p>A <code><a href="https://rdrr.io/pkg/caret/man/train.html" class="external-link">caret::train()</a></code> class</p></dd>

<dt>Y</dt>
<dd><p>The trimmed variables</p></dd>

<dt>X</dt>
<dd><p>The trimmed values</p></dd>

<dt>train_y</dt>
<dd><p>The variables used to train the model</p></dd>

<dt>train_x</dt>
<dd><p>The values used to train the model</p></dd>

<dt>pred_x</dt>
<dd><p>The predicted values</p></dd>

<dt>pred_y</dt>
<dd><p>The predicted classification</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">screen_models</span><span class="op">(</span><span class="va">enterotype</span>, model<span class="op">=</span><span class="st">"glmnet"</span>, prop<span class="op">=</span><span class="fl">0.5</span>, ncomp<span class="op">=</span><span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Sample_ID : is constituted of unique observations"</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some classes have a single record ( AM.AD.1, AM.AD.2, AM.F10.T1, AM.F10.T2, DA.AD.1, DA.AD.2, DA.AD.3, DA.AD.4, ES.AD.1, ES.AD.2, ES.AD.3, ES.AD.4, FR.AD.1, FR.AD.2, FR.AD.3, FR.AD.4, FR.AD.5, FR.AD.6, FR.AD.7, FR.AD.8, IT.AD.1, IT.AD.2, IT.AD.3, IT.AD.4, IT.AD.5, IT.AD.6, JP.AD.1, JP.AD.2, JP.AD.3, JP.AD.4, JP.AD.5, JP.AD.6, JP.AD.7, JP.AD.8, JP.AD.9, JP.IN.1, JP.IN.2, JP.IN.3, JP.IN.4 ) and these will be selected for the sample</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some classes have a single record ( CD, UC ) and these will be selected for the sample</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in trainControl(method = "repeatedcv", number = number, repeats = repeats):</span> could not find function "trainControl"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">screen_models</span><span class="op">(</span><span class="va">enterotype</span>, model<span class="op">=</span><span class="st">"plsda"</span>, cores<span class="op">=</span><span class="fl">1</span>, ncomp<span class="op">=</span><span class="fl">10</span>, number<span class="op">=</span><span class="fl">10</span>, repats<span class="op">=</span><span class="fl">5</span>, prop<span class="op">=</span><span class="fl">0.6</span>, train<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Sample_ID : is constituted of unique observations"</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some classes have a single record ( AM.AD.1, AM.AD.2, AM.F10.T1, AM.F10.T2, DA.AD.1, DA.AD.2, DA.AD.3, DA.AD.4, ES.AD.1, ES.AD.2, ES.AD.3, ES.AD.4, FR.AD.1, FR.AD.2, FR.AD.3, FR.AD.4, FR.AD.5, FR.AD.6, FR.AD.7, FR.AD.8, IT.AD.1, IT.AD.2, IT.AD.3, IT.AD.4, IT.AD.5, IT.AD.6, JP.AD.1, JP.AD.2, JP.AD.3, JP.AD.4, JP.AD.5, JP.AD.6, JP.AD.7, JP.AD.8, JP.AD.9, JP.IN.1, JP.IN.2, JP.IN.3, JP.IN.4 ) and these will be selected for the sample</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Some classes have a single record ( CD, UC ) and these will be selected for the sample</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in screen_models(enterotype, model = "plsda", cores = 1, ncomp = 10,     number = 10, repats = 5, prop = 0.6, train = T):</span> object 'train_y' not found</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

